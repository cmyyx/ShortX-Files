{
  "facts": [{
    "@type": "type.googleapis.com/ClipboardContentChanged",
    "tag": "å‰ªåˆ‡æ¿",
    "customContextDataKey": {
    },
    "id": "F-ec061a2e-de18-4ace-8c11-4e99b2d2859d"
  }, {
    "@type": "type.googleapis.com/OnMenuActionTrigger",
    "tag": "é€‰ä¸­",
    "customContextDataKey": {
    },
    "id": "F-c3cd2ccd-f8cc-489a-b18b-d05851c36c18"
  }],
  "actions": [{
    "@type": "type.googleapis.com/IfThenElse",
    "If": [{
      "@type": "type.googleapis.com/RequireFactTag",
      "tag": "å‰ªåˆ‡æ¿",
      "customContextDataKey": {
      },
      "id": "C-f89e76f4-6110-4354-8c97-619fb1ed8a7c"
    }],
    "IfActions": [{
      "@type": "type.googleapis.com/ReplaceRegex",
      "string": "{clipboardContent}",
      "regex": "\\{|\\}|`",
      "replacement": " ",
      "customContextDataKey": {
      },
      "id": "A-4c8ee740-4d22-4407-9a61-d169e4f38585"
    }],
    "ElseActions": [{
      "@type": "type.googleapis.com/ReplaceRegex",
      "string": "{selectedText}",
      "regex": "\\{|\\}",
      "replacement": " ",
      "customContextDataKey": {
      },
      "id": "A-4c8ee740-4d22-4407-9a61-d169e4f38585"
    }],
    "customContextDataKey": {
    },
    "id": "A-8aa0be2e-9b43-4a9f-947d-deef4d4bd75c"
  }, {
    "@type": "type.googleapis.com/ExecuteJS",
    "expression": "var input\u003d`{replaceResult}`;\nvar outdjymlist\u003dargOf$djym;\nvar outemaillist\u003dargOf$email;\nvar outblacklist\u003dargOf$blacklist;\nvar outltywz\u003dargOf$ä½ç½®;\nvar outltywzpy\u003dargOf$æµä½“äº‘ä½ç½®åç§»;\nvar outhttpsonly\u003dargOf$httpsonly;\nvar outtqmgjclist\u003dargOf$tqm;\nvar outxcpz\u003dargOf$å°çª—é…ç½®;\nvar outxccs\u003dargOf$å°çª—å‚æ•°;\nimportClass(android.os.Handler);\nimportClass(android.os.Looper);\nimportPackage(android.view);\nimportPackage(android.widget);\nimportPackage(android.content);\nimportPackage(android.graphics);\nimportClass(android.graphics.drawable.GradientDrawable);\nimportClass(android.graphics.PixelFormat);\nimportClass(android.view.WindowManager);\nimportClass(java.lang.Runnable);\nimportClass(java.lang.Thread);\nimportClass(android.app.ActivityOptions);\nimportClass(android.graphics.Rect);\nimportClass(android.graphics.Point); \nimportClass(android.view.Surface);\nimportClass(android.app.ActivityManager);\nimportClass(android.content.pm.PackageManager);\nimportClass(android.os.UserHandle); \nimportClass(android.net.Uri);\nimportClass(Packages.tornaco.apps.shortx.core.proto.action.ShellCommand);\nimportClass(Packages.tornaco.apps.shortx.core.proto.action.WriteClipboard);\nimportClass(android.view.Gravity);\nimportClass(android.view.MotionEvent);\nimportClass(android.util.DisplayMetrics);\nimportClass(android.content.Context);\nfunction getopenapp(url) {\n\n  var pm \u003d context.getPackageManager();\n\n  // æ„é€  Intent\n  var intent \u003d new Intent(Intent.ACTION_VIEW);\n  intent.setData(Uri.parse(url));\n\n  var resolveInfos \u003d pm.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n\n  var packages \u003d [];\n  for (var i \u003d 0; i \u003c resolveInfos.size(); i++) {\n    var ri \u003d resolveInfos.get(i);\n    if (ri.activityInfo !\u003d null) {\n      packages.push(ri.activityInfo.packageName);\n    }\n  }\n\n  // å»é‡\n  var uniquePackages \u003d Array.from(new java.util.HashSet(packages));\n\n  // è·å–ç³»ç»Ÿé»˜è®¤æµè§ˆå™¨åŒ…å\n  var defaultBrowser \u003d null;\n  var browserIntent \u003d new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.example.com\"));\n  var resolve \u003d pm.resolveActivity(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\n  if (resolve !\u003d null \u0026\u0026 resolve.activityInfo !\u003d null) {\n    defaultBrowser \u003d resolve.activityInfo.packageName;\n  }\n\n  // è¿‡æ»¤æ‰é»˜è®¤æµè§ˆå™¨ï¼ˆå…ˆæ’é™¤å®ƒï¼‰\n  var filtered \u003d [];\n  for (var i \u003d 0; i \u003c uniquePackages.length; i++) {\n    var p \u003d uniquePackages[i];\n    if (p !\u003d\u003d defaultBrowser) {\n      filtered.push(p);\n    }\n  }\n\n  // å¦‚æœæ²¡æœ‰å…¶ä»–åº”ç”¨ï¼Œå°±åŠ å›é»˜è®¤æµè§ˆå™¨\n  if (filtered.length \u003d\u003d\u003d 0 \u0026\u0026 defaultBrowser !\u003d null) {\n    filtered.push(defaultBrowser);\n  }\n\n  return filtered[0];\n}\nfunction getScreenWidth(context) {\n    var metrics \u003d new DisplayMetrics();\n    var wm \u003d context.getSystemService(Context.WINDOW_SERVICE);\n    wm.getDefaultDisplay().getMetrics(metrics);\n    return String(metrics.widthPixels);\n}\n\n\nfunction getDefaultBrowserPackageName(context) {\n  var intent \u003d new Intent(Intent.ACTION_VIEW);\n  intent.setData(Uri.parse(\"http://\"));\n\n  var pm \u003d context.getPackageManager();\n  var resolveInfo \u003d pm.resolveActivity(intent, 65536);\n\n  if (resolveInfo !\u003d null \u0026\u0026 resolveInfo.activityInfo !\u003d null) {\n    return resolveInfo.activityInfo.packageName;\n  }\n  return null;\n}\nfunction showFloatingPrompt(opts) {\n    var result \u003d null;\n    var timeout \u003d opts.timeout || 3000;\n\n    function runOnUiThread(fn) {\n        new Handler(Looper.getMainLooper()).post(new Runnable({ run: fn }));\n    }\n\n    runOnUiThread(function () {\n        var wm \u003d context.getSystemService(Context.WINDOW_SERVICE);\n        var pm \u003d context.getPackageManager();\n\n        var layout \u003d new LinearLayout(context);\n        layout.setOrientation(LinearLayout.HORIZONTAL);\n        layout.setPadding(30, 30, 30, 30);\n        layout.setGravity(Gravity.CENTER_VERTICAL);\n\n        var bg \u003d new GradientDrawable();\n        bg.setColor(Color.parseColor(\"#DD1F1F1F\"));\n        bg.setCornerRadius(60);\n        layout.setBackground(bg);\n\n        // å–æ¶ˆå›¾æ ‡èƒŒæ™¯ï¼Œç›´æ¥æ”¾å¤§å›¾æ ‡\n        var iconView \u003d new ImageView(context);\n        var iconSize \u003d 130; // æ”¾å¤§å°ºå¯¸\n        var iconParams \u003d new LinearLayout.LayoutParams(iconSize, iconSize);\n        iconParams.setMargins(0, 0, 30, 0);\n        iconView.setLayoutParams(iconParams);\n\n        try {\n            var icon \u003d pm.getApplicationIcon(opts.pkg);\n            iconView.setImageDrawable(icon);\n        } catch (e) {\n            iconView.setImageResource(android.R.drawable.sym_def_app_icon);\n        }\n\n        layout.addView(iconView);\n\n        var textLayout \u003d new LinearLayout(context);\n        textLayout.setOrientation(LinearLayout.VERTICAL);\n        textLayout.setLayoutParams(new LinearLayout.LayoutParams(0, -2, 1));\n\n        var title \u003d new TextView(context);\n        title.setText(opts.title || \"æ‰“å¼€åº”ç”¨\");\n        title.setTextSize(18);\n        title.setTypeface(null, android.graphics.Typeface.BOLD);\n        title.setTextColor(Color.WHITE);\n\n        var subtitle \u003d new TextView(context);\n        subtitle.setText(opts.subtitle || \"\");\n        subtitle.setTextSize(14);\n        subtitle.setTextColor(Color.LTGRAY);\n\n        textLayout.addView(title);\n        textLayout.addView(subtitle);\n        layout.addView(textLayout);\n\n        var btn \u003d new TextView(context);\n        btn.setText(opts.buttonText || \"æµ®çª—æ‰“å¼€\");\n        btn.setTextSize(14);\n        btn.setTextColor(Color.WHITE);\n        btn.setGravity(Gravity.CENTER);\n        btn.setPadding(30, 20, 30, 20);\n\n        var btnBg \u003d new GradientDrawable();\n        btnBg.setColor(Color.parseColor(\"#44FFFFFF\"));\n        btnBg.setCornerRadius(60);\n        btn.setBackground(btnBg);\n\n        var btnParams \u003d new LinearLayout.LayoutParams(-2, -2);\n        btnParams.setMargins(30, 0, 0, 0);\n        btn.setLayoutParams(btnParams);\n        layout.addView(btn);\n\n        layout.setOnClickListener(new View.OnClickListener({\n            onClick: function () {\n                result \u003d opts.resultOnClick || \"click\";\n                try { wm.removeView(layout); } catch (e) {}\n            }\n        }));\n\n        btn.setOnClickListener(new View.OnClickListener({\n            onClick: function () {\n                result \u003d opts.resultOnButton || \"button\";\n                try { wm.removeView(layout); } catch (e) {}\n            }\n        }));\n\n        var downY \u003d 0;\n        var downTime \u003d 0;\n        var longPressTriggered \u003d false;\n        var LONG_PRESS_THRESHOLD \u003d 500; // 500msåˆ¤å®šé•¿æŒ‰\n\n        layout.setOnTouchListener(new View.OnTouchListener({\n            onTouch: function (v, event) {\n                switch (event.getAction()) {\n                    case MotionEvent.ACTION_DOWN:\n                        downY \u003d event.getRawY();\n                        downTime \u003d java.lang.System.currentTimeMillis();\n                        longPressTriggered \u003d false;\n                        return false;\n                    case MotionEvent.ACTION_MOVE:\n                        var moveTime \u003d java.lang.System.currentTimeMillis();\n                        if (!longPressTriggered \u0026\u0026 moveTime - downTime \u003e\u003d LONG_PRESS_THRESHOLD) {\n                            longPressTriggered \u003d true;\n                            result \u003d opts.resultOnLongClick || \"long_click\";\n                            try { wm.removeView(layout); } catch (e) {}\n                            return true;\n                        }\n                        return false;\n                    case MotionEvent.ACTION_UP:\n                        var upY \u003d event.getRawY();\n                        var upTime \u003d java.lang.System.currentTimeMillis();\n                        if (longPressTriggered) {\n                            return true; // é•¿æŒ‰å·²ç»å¤„ç†ï¼Œä¸å†å“åº”ç‚¹å‡»\n                        }\n                        if (downY - upY \u003e 100) {\n                            result \u003d opts.resultOnSwipe || \"swipe_close\";\n                            try { wm.removeView(layout); } catch (e) {}\n                            return true;\n                        }\n                        return false;\n                }\n                return false;\n            }\n        }));\n\n        var params \u003d new WindowManager.LayoutParams(\n            parseInt(getScreenWidth(context)*0.9), -2,\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n            PixelFormat.TRANSLUCENT\n        );\n        params.gravity \u003d opts.gravity || (Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL);\n        params.x \u003d opts.x || 0;\n        params.y \u003d opts.y || 150;\n        wm.addView(layout, params);\n\n        new Thread(new Runnable({\n            run: function () {\n                Thread.sleep(timeout);\n                runOnUiThread(function () {\n                    if (result \u003d\u003d\u003d null) {\n                        result \u003d opts.resultOnTimeout || \"timeout\";\n                        try { wm.removeView(layout); } catch (e) {}\n                    }\n                });\n            }\n        })).start();\n    });\n\n    while (result \u003d\u003d\u003d null) {\n        Thread.sleep(150);\n    }\n\n    return result;\n}\nfunction showOptionsDialog(options, titleText) {\n    var result \u003d null;\n\n    function runOnUiThread(fn) {\n        new Handler(Looper.getMainLooper()).post(new Runnable({ run: fn }));\n    }\n\n    runOnUiThread(function () {\n        var pm \u003d context.getPackageManager();\n        var wm \u003d context.getSystemService(Context.WINDOW_SERVICE);\n        var layout \u003d new FrameLayout(context);\n\n        // æ·±è‰²æ¨¡å¼åˆ¤æ–­\n        var isDarkMode \u003d (context.getResources().getConfiguration().uiMode\n            \u0026 android.content.res.Configuration.UI_MODE_NIGHT_MASK)\n            \u003d\u003d\u003d android.content.res.Configuration.UI_MODE_NIGHT_YES;\n\n        var shape \u003d new GradientDrawable();\n        var backgroundColor \u003d isDarkMode ? \"#343434\" : \"#FAFAFA\";\n        var textColor \u003d isDarkMode ? Color.WHITE : Color.BLACK;\n        shape.setColor(Color.parseColor(backgroundColor));\n        shape.setCornerRadius(30);\n        if (!isDarkMode) shape.setStroke(2, Color.parseColor(\"#22000000\"));\n        layout.setBackground(shape);\n\n        var displayMetrics \u003d context.getResources().getDisplayMetrics();\n        var maxWidth \u003d displayMetrics.widthPixels * 0.8;\n        var maxHeight \u003d displayMetrics.heightPixels * 0.6; // æœ€å¤§é«˜åº¦ä¸ºå±å¹•60%\n\n        var params \u003d new WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n            PixelFormat.TRANSLUCENT\n        );\n        params.gravity \u003d Gravity.CENTER;\n        params.width \u003d maxWidth;\n\n        // æ»‘åŠ¨å®¹å™¨\n        var scrollView \u003d new ScrollView(context);\n        var scrollParams \u003d new FrameLayout.LayoutParams(\n            FrameLayout.LayoutParams.MATCH_PARENT,\n            FrameLayout.LayoutParams.WRAP_CONTENT\n        );\n        scrollView.setLayoutParams(scrollParams);\n\n        // å®¹å™¨\n        var container \u003d new LinearLayout(context);\n        container.setOrientation(LinearLayout.VERTICAL);\n\n        // æ ‡é¢˜\n        var titleView \u003d new TextView(context);\n        titleView.setText(titleText || \"è¯·é€‰æ‹©\");\n        titleView.setTextSize(20);\n        titleView.setTextColor(textColor);\n        titleView.setGravity(Gravity.CENTER);\n        titleView.setTypeface(null, android.graphics.Typeface.BOLD);\n        titleView.setPadding(40, 40, 40, 20);\n        container.addView(titleView);\n\n        scrollView.addView(container);\n        layout.addView(scrollView);\n\n        // è®¾ç½®æœ€å¤§é«˜åº¦é™åˆ¶ï¼ˆåŠ¨æ€ï¼‰\n        scrollView.post(new Runnable({\n            run: function () {\n                if (scrollView.getHeight() \u003e maxHeight) {\n                    var newParams \u003d scrollView.getLayoutParams();\n                    newParams.height \u003d maxHeight;\n                    scrollView.setLayoutParams(newParams);\n                }\n            }\n        }));\n\n        function makeOptionView(item) {\n            if (typeof item \u003d\u003d\u003d \"string\") {\n                var simpleLayout \u003d new LinearLayout(context);\n                simpleLayout.setOrientation(LinearLayout.VERTICAL);\n                simpleLayout.setPadding(30, 30, 30, 30);\n\n                var labelView \u003d new TextView(context);\n                labelView.setText(item);\n                labelView.setTextSize(16);\n                labelView.setTextColor(textColor);\n                simpleLayout.addView(labelView);\n\n                simpleLayout.setOnClickListener(new View.OnClickListener({\n                    onClick: function () {\n                        result \u003d item;\n                        try { wm.removeView(layout); } catch (e) {}\n                    }\n                }));\n\n                return simpleLayout;\n            }\n\n            var itemLayout \u003d new LinearLayout(context);\n            itemLayout.setOrientation(LinearLayout.HORIZONTAL);\n            itemLayout.setPadding(30, 30, 30, 30);\n            itemLayout.setGravity(Gravity.CENTER_VERTICAL);\n\n            var iconView \u003d new ImageView(context);\n            var iconSize \u003d 96;\n            var iconParams \u003d new LinearLayout.LayoutParams(iconSize, iconSize);\n            iconParams.setMargins(0, 0, 30, 0);\n            iconView.setLayoutParams(iconParams);\n\n            if (item.pkg) {\n                try {\n                    var icon \u003d pm.getApplicationIcon(item.pkg);\n                    iconView.setImageDrawable(icon);\n                } catch (e) {\n                    iconView.setImageResource(android.R.drawable.sym_def_app_icon);\n                }\n                itemLayout.addView(iconView);\n            } else if (item.icon) {\n                var emoji \u003d new TextView(context);\n                emoji.setText(item.icon);\n                emoji.setTextSize(20);\n                emoji.setLayoutParams(iconParams);\n                itemLayout.addView(emoji);\n            } else {\n                iconView.setImageResource(android.R.drawable.sym_def_app_icon);\n                itemLayout.addView(iconView);\n            }\n\n            var textLayout \u003d new LinearLayout(context);\n            textLayout.setOrientation(LinearLayout.VERTICAL);\n\n            var title \u003d new TextView(context);\n            title.setText(item.label || item.value || \"æœªå‘½å\");\n            title.setTextSize(16);\n            title.setTextColor(textColor);\n\n            var desc \u003d new TextView(context);\n            desc.setText(item.desc || \"\");\n            desc.setTextSize(13);\n            desc.setTextColor(isDarkMode ? Color.LTGRAY : Color.DKGRAY);\n\n            textLayout.addView(title);\n            textLayout.addView(desc);\n            itemLayout.addView(textLayout);\n\n            itemLayout.setOnClickListener(new View.OnClickListener({\n                onClick: function () {\n                    result \u003d item.value;\n                    try { wm.removeView(layout); } catch (e) {}\n                }\n            }));\n\n            return itemLayout;\n        }\n\n        for (var i \u003d 0; i \u003c options.length; i++) {\n            container.addView(makeOptionView(options[i]));\n        }\n\n        try {\n            wm.addView(layout, params);\n        } catch (e) {\n            result \u003d null;\n        }\n    });\n\n    while (result \u003d\u003d\u003d null) {\n        Thread.sleep(150);\n    }\n\n    return result;\n}\n\n\nfunction reversal(a) {\n    return a \u003d\u003d\u003d true ? false : true;\n}\n\nfunction ri(a) {\n    var r \u003d a.replace(\"http://\", \"\").replace(\"https://\", \"\");\n    r \u003d r.split(\" \")[0];\n    return r;\n}\n\nfunction db(a, output) {\n    for (var i \u003d 0; i \u003c output.length; i++) {\n        if (ri(output[i]) \u003d\u003d\u003d ri(a)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction where(a, b) {\n    var list1 \u003d [];\n    for (var i \u003d 0; i \u003c a.length; i++) {\n        if (ri(a[i]) \u003d\u003d\u003d ri(b)) {\n            list1.push(i);\n        }\n    }\n    return list1;\n}\n\nfunction huisu(list, value_to_find, list_to_find) {\n    var a \u003d where(list, value_to_find); // éªŒè¯ç ä½ç½®åˆ—è¡¨\n    var output \u003d [];\n    for (var i \u003d 0; i \u003c a.length; i++) {\n        var pos \u003d a[i];\n        for (var j \u003d pos - 1; j \u003e\u003d 0; j--) {\n            if (!db(list[j], list_to_find)) {\n                if (list[j].split(\" \").length \u003c 2) {\n                    var yzm \u003d value_to_find.split(\":\")[1];\n                    if (yzm \u003d\u003d\u003d \"\") {\n                        yzm \u003d list[pos + 1];\n                    }\n                    yzm \u003d yzm.replace(\" \", \"\");\n                    var outputIndices \u003d where(list_to_find, list[j]);\n                    if (outputIndices.length \u003e 0) {\n                        if (list_to_find[outputIndices[0]].indexOf(\"æå–ç :\") \u003d\u003d\u003d -1) {\n                            list_to_find[outputIndices[0]] \u003d list[j] + \" æå–ç :\" + yzm;\n                        } else {\n                            list_to_find.push(list[j] + \" æå–ç :\" + yzm);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction qvzi(a) {\n    var Extractioncodelist \u003d outtqmgjclist;\n    Extractioncodelist \u003d Extractioncodelist.split(\" \");\n    for (var i \u003d 0; i \u003c Extractioncodelist.length; i++) {\n        a \u003d a.replace(new RegExp(Extractioncodelist[i], \"g\"), \" Extractioncode:\");\n    }\n    a \u003d a.replace(/\\[[^\\]]*\\]/g, \"\").trim();\n    var output \u003d \"\";\n    var all \u003d \"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM#_/-:?%@\u003d.\u0026, ï¼Œï¼›;1234567890 \\n\";\n    for (var i \u003d 0; i \u003c a.length; i++) {\n        if (all.indexOf(a[i]) !\u003d\u003d -1) {\n            output +\u003d a[i];\n        }\n    }\n    return output.trim();\n}\n\nfunction shaixuan(a) {\n    a \u003d a.replace(/http:\\/\\//g, \" http://\").replace(/https:\\/\\//g, \" https://\");\n    var duanluo \u003d a.split(/\\n|,|ï¼Œ|ï¼›|;|\\s+/);\n    duanluo \u003d duanluo.filter(function(token) { return token.trim() !\u003d\u003d \"\"; });\n\n    var output \u003d [];\n    var ecjc \u003d [];\n    var yzm \u003d false;\n    var Extractioncodelist \u003d [];\n\n    if (a.indexOf(\"Extractioncode:\") !\u003d\u003d -1) {\n        yzm \u003d true;\n        for (var i \u003d 0; i \u003c duanluo.length; i++) {\n            if (duanluo[i].indexOf(\"Extractioncode:\") !\u003d\u003d -1) {\n                if (Extractioncodelist.indexOf(duanluo[i]) \u003d\u003d\u003d -1) {\n                    Extractioncodelist.push(duanluo[i]);\n                }\n            }\n        }\n    }\n\n    var dinjiyumin \u003d outdjymlist;\n    dinjiyumin \u003d dinjiyumin.split(\",\");\n    var emaillist \u003doutemaillist;\n    emaillist \u003d emaillist.split(\",\");\n\n    for (var i \u003d 0; i \u003c dinjiyumin.length; i++) {\n        for (var j \u003d 0; j \u003c duanluo.length; j++) {\n            if (duanluo[j].indexOf(\".\" + dinjiyumin[i] + \"/\") !\u003d\u003d -1 \u0026\u0026 duanluo[j].length \u003e dinjiyumin[i].length + 2) {\n                if (db(duanluo[j], output)) {\n                    output.push(duanluo[j]);\n                }\n            } else if (db(duanluo[j], ecjc)) {\n                ecjc.push(duanluo[j]);\n            }\n        }\n    }\n\n    for (var i \u003d 0; i \u003c dinjiyumin.length; i++) {\n        for (var j \u003d 0; j \u003c ecjc.length; j++) {\n            if (ecjc[j].indexOf(\".\" + dinjiyumin[i]) !\u003d\u003d -1 \u0026\u0026 ecjc[j].length \u003e dinjiyumin[i].length + 1) {\n                var suffix \u003d \".\" + dinjiyumin[i];\n                if (ecjc[j].substr(ecjc[j].length - suffix.length) \u003d\u003d\u003d suffix) {\n                    if (db(ecjc[j], output)) {\n                        var isEmail \u003d false;\n                        for (var w \u003d 0; w \u003c emaillist.length; w++) {\n                            if (ecjc[j].indexOf(\"@\" + emaillist[w]) !\u003d\u003d -1) {\n                                isEmail \u003d true;\n                                break;\n                            }\n                        }\n                        if (!isEmail) {\n                            output.push(ecjc[j]);\n                        }\n                    }\n                }\n            } else if ((ecjc[j].indexOf(\"http://\") !\u003d\u003d -1 || ecjc[j].indexOf(\"https://\") !\u003d\u003d -1) \u0026\u0026 ecjc[j].length \u003e 8 \u0026\u0026 ecjc[j].indexOf(\".\") !\u003d\u003d -1) {\n                if (db(ecjc[j], output)) {\n                    output.push(ecjc[j]);\n                }\n            }\n        }\n    }\n\n    if (yzm) {\n        for (var i \u003d 0; i \u003c Extractioncodelist.length; i++) {\n            huisu(duanluo, Extractioncodelist[i], output);\n        }\n    }\n\n    return output;\n}\n\nfunction qinqiutou(a) {\n    var httpslist \u003d outhttpsonly.split(\",\");\n    var output \u003d [];\n    for (var i \u003d 0; i \u003c a.length; i++) {\n        var link \u003d a[i];\n        if (link.indexOf(\"http://\") \u003d\u003d\u003d -1 \u0026\u0026 link.indexOf(\"https://\") \u003d\u003d\u003d -1) {\n            var httpLink \u003d \"http://\" + link;\n            var httpsLink \u003d \"https://\" + link;\n            if (output.indexOf(httpLink) \u003d\u003d\u003d -1 \u0026\u0026 output.indexOf(httpsLink) \u003d\u003d\u003d -1) {\n                var useHttps \u003d false;\n                for (var j \u003d 0; j \u003c httpslist.length; j++) {\n                    if (link.indexOf(httpslist[j]) !\u003d\u003d -1) {\n                        useHttps \u003d true;\n                        break;\n                    }\n                }\n                output.push(useHttps ? httpsLink : httpLink);\n            }\n        } else if (output.indexOf(link) \u003d\u003d\u003d -1) {\n            output.push(link);\n        }\n    }\n    return output;\n}\n\nfunction blacklist(linklist) {\n    var blacklist \u003d outblacklist.split(\",\");\n    for (var i \u003d 0; i \u003c blacklist.length; i++) {\n        for (var j \u003d 0; j \u003c linklist.length; j++) {\n            if (linklist[j].indexOf(blacklist[i]) !\u003d\u003d -1) {\n                linklist.splice(j, 1);\n                j--;\n            }\n        }\n    }\n    return linklist;\n}\n\nfunction main(a) {\n    var b \u003d blacklist(qinqiutou(shaixuan(qvzi(a))));\n    if (b.length !\u003d\u003d 0) {\n        return b.join(\",\");\n    } else {\n        return \"No links\";\n    }\n}\n\n\n\nfunction writelocalvar(name,value){\nvar writeLocalVar \u003d Packages.tornaco.apps.shortx.core.proto.action.WriteLocalVar.newBuilder()\n                .setVarName(name)\n                .setValueAsString(value)\n                .build();\n            shortx.executeAction(writeLocalVar);\n}\nfunction getAppName(packageName) {\n    try {\n        var packageManager \u003d context.getPackageManager();\n        var applicationInfo \u003d packageManager.getApplicationInfo(packageName, 0);\n        var appName \u003d packageManager.getApplicationLabel(applicationInfo);\n        return appName;\n    } catch (e) {\n        return false;\n    }\n}\n\n\nfunction isAppinstall(pkgName) {\n    var path \u003d \"/data/data/\"+pkgName;\n    var File \u003d java.io.File;\n    var dir \u003d new File(path);\n    return dir.exists() \u0026\u0026 dir.isDirectory();\n}\nfunction canjumptg(){\nvar uri \u003d android.net.Uri.parse(\"tg://resolve?domain\u003dtelegram\");\nvar intent1 \u003d new android.content.Intent(android.content.Intent.ACTION_VIEW, uri);\nvar pm \u003d context.getPackageManager();\nvar canHandle \u003d intent1.resolveActivity(pm) !\u003d null;\nreturn canHandle;}\n\nfunction isin(pattern,str){\nvar result \u003d pattern.test(str);\nreturn result; \n}\n\nfunction checkString(input,all) {\n    input\u003dinput+\"\";\n    if (isin(/tb.cn/,input)\u0026\u0026isin(/é—²é±¼/,all)\u0026\u0026isAppinstall(\"com.taobao.idlefish\")) {\n        return \"fleamarket://2.taobao.com/onepiece?h5Url\u003d\"+input;\n    } else if (isin(/tb.cn/,input)\u0026\u0026isin(/æ·˜å®/,all)\u0026\u0026isAppinstall(\"com.taobao.taobao\")) {\n        return \"tbopen://m.taobao.com/tbopen/index.html?h5Url\u003d\"+input;\n    } else if ((isin(/3.cn/,input)||isin(/jd.com/,input))\u0026\u0026isAppinstall(\"com.jingdong.app.mall\")) {\n        return \"openapp.jdmobile://virtual?params\u003d{\u0027category\u0027:\u0027jump\u0027,\u0027des\u0027:\u0027m\u0027,\u0027url\u0027:\u0027\"+input+\"\u0027}\";\n    } else if (isin(/pan.baidu.com/,input)\u0026\u0026isAppinstall(\"com.baidu.netdisk\")) {\n        if(isin(/æå–ç /,input)){\n        var dplink\u003dinput.split(\" æå–ç :\")[0].split(\"/1\")[1];\n        var dptqm \u003d input.split(\" æå–ç :\")[1];\n        return \"bdnetdisk://n/action.SHARE_LINK?m_n_v\u003d8.3.0\u0026surl\u003d\"+dplink+\"\u0026pwd\u003d\"+dptqm;}else{\n       var dplink\u003dinput.split(\" æå–ç :\")[0].split(\"/1\")[1].replace(\"?\",\"\u0026\");\n        return \"bdnetdisk://n/action.SHARE_LINK?m_n_v\u003d8.3.0\u0026surl\u003d\"+dplink;}\n        \n    } else if (isin(/alipan.com/,input)\u0026\u0026isAppinstall(\"com.alicloud.databox\")) {\n        var alypshareid\u003dinput.split(\" æå–ç :\")[0].split(\"/s/\")[1];\n        if(isin(/æå–ç /,input)){\n            var alyptqm\u003dinput.split(\" æå–ç :\")[1];\n        }else{alyptqm\u003d\"\";}\n        return \"smartdrive://share/browse?shareId\u003d\"+alypshareid+\"\u0026sharePwd\u003d\"+alyptqm;\n    }  else if (isin(/pan.quark.cn/,input)\u0026\u0026isAppinstall(\"com.quark.browser\")) {\n        return \"qklink://www.uc.cn/b20b84fd735a8dd3f7541129bacc4e9a?action\u003dopen_url\u0026url\u003d\"+input;\n    } else if (isin(/123pan.com/,input)\u0026\u0026isAppinstall(\"com.mfcloudcalculate.networkdisk\")) {\n        var yespanshareid\u003dinput.split(\" æå–ç :\")[0].split(\"/s/\")[1];\n        if(isin(/æå–ç /,input)){\n            var yespantqm\u003dinput.split(\" æå–ç :\")[1];}else{var yespantqm\u003d\"\";}\n        return \"pan://umeng.com/share/list?sharePwd\u003d\"+yespantqm+\"\u0026_sdk_\u003dumeng\u0026action\u003dshare_list\u0026shareKey\u003d\"+yespanshareid;\n    } else if (isin(/1688.com/,input)\u0026\u0026isAppinstall(\"com.alibaba.wireless\")) {\n        return \"wireless1688://ma.m.1688.com/plugin?url\u003d\"+input;\n    }else if (isin(/kurobbs.com/,input)\u0026\u0026isAppinstall(\"com.kurogame.kjq\")) {\n        var kjqpostid\u003dinput.split(\"\\\\?postId\u003d\")[1];\n        return \"kjq://home/post/postDetail?postId\u003d\"+kjqpostid;\n    }else if (isin(/xhslink.com/,input)\u0026\u0026isAppinstall(\"com.xingin.xhs\")) {\n        return \"xhsdiscover://item/6809ccfd000000001a007525?open_url\u003d\"+input;\n    }  else if (isin(/tieba.baidu.com/,input)\u0026\u0026isAppinstall(\"com.baidu.tieba\")) {\n        var bdtbtid\u003dinput.split(\"\\\\?\")[0].split(\"/p/\")[1];\n        return \"com.baidu.tieba://unidispatch/pb?tid\u003d\"+bdtbtid;\n    }else if (isin(/kuaishou.com/,input)\u0026\u0026isAppinstall(\"com.smile.gifmaker\")) {\n        return \"kwai://webview?url\u003d\"+input;\n    }  else if (isin(/weibo.com/,input)\u0026\u0026isAppinstall(\"com.sina.weibo\")) {\n        var xlwblinkpart\u003dinput.split(\"/\")\n        var xlwbblogid\u003dxlwblinkpart[xlwblinkpart.length-1];\n        return \"sinaweibo://detail?mblogid\u003d\"+xlwbblogid;\n    } else if (isin(/miyoushe.com/,input)\u0026\u0026isAppinstall(\"com.mihoyo.hyperion\")) {\n        return \"mihoyobbs://webview?link\u003d\"+input;\n    } else if (isin(/115cdn.com/,input)\u0026\u0026isAppinstall(\"com.yyw.wangpan\")) {\n        var yywlink\u003dinput.split(\" æå–ç :\")[0];\n        var yywtqm\u003dinput.split(\" æå–ç :\")[1];\n        if(input.indexOf(\"?password\") !\u003d\u003d -1){\n            return \"oof.disk://openurl/\"+yywlink;}else{\n            return \"oof.disk://openurl/\"+yywlink+\"?password\u003d\"+yywtqm;\n            }\n    } else {\n        return false; // æœªåŒ¹é…\n    }\n}\nvar defaultBrowser \u003dgetDefaultBrowserPackageName(context);\nvar origin\u003dinput;\nvar alllinks\u003dmain(origin).split(\",\");\nif(alllinks!\u003d\"No links\"){\nvar link;\nvar linknum\u003dalllinks.length;\nif(linknum\u003e\u003d2){\nvar dgljlty;\nif(outltywz\u003d\u003d\"é¡¶éƒ¨\"){dgljlty\u003d{\n  pkg: defaultBrowser,\n  title: \"å¤šä¸ªé“¾æ¥\",\n  subtitle: \"ç‚¹å‡»æ‰“å¼€é€‰æ‹©é“¾æ¥å¼¹æ¡†\",\n  buttonText: \"é€‰æ‹©é“¾æ¥\",\n  resultOnClick: true,\n  resultOnButton: true,\n  resultOnTimeout: false,\n  resultOnSwipe: false,\n  resultOnLongClick: true,\n  timeout: 3000,\n  gravity: Gravity.TOP | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n}}else{\ndgljlty\u003d{\n  pkg: defaultBrowser,\n  title: \"å¤šä¸ªé“¾æ¥\",\n  subtitle: \"ç‚¹å‡»æ‰“å¼€é€‰æ‹©é“¾æ¥å¼¹æ¡†\",\n  buttonText: \"é€‰æ‹©é“¾æ¥\",\n  resultOnClick: true,\n  resultOnButton: true,\n  resultOnTimeout: false,\n  resultOnSwipe: false,\n  resultOnLongClick: true,\n  timeout: 3000,\n  gravity: Gravity.BOTTOM | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n}\n}\nvar openact;\nvar cz\u003dshowFloatingPrompt(dgljlty);\nif(cz\u003d\u003dtrue){\nlink\u003dshowOptionsDialog(alllinks,\"é€‰æ‹©é“¾æ¥\");}else{link\u003d\"å–æ¶ˆ\";openact\u003d\"å–æ¶ˆ\";}}else{link\u003dalllinks;}\n\nvar result\u003dcheckString(link,origin);\n\n\nvar dhklist\u003d[];\nif (result !\u003d false){\nvar tzapp\u003dgetopenapp(result);\nvar tzappname\u003dgetAppName(tzapp);\n\n\n}\nvar zsyapp\u003dgetopenapp(link);\nif(tzapp!\u003dzsyapp\u0026\u0026result!\u003dfalse){\ndhklist.push({ label: tzappname, desc: \"å…¨å±\", pkg: tzapp, value: \"è·³è½¬\" });\ndhklist.push({ label: tzappname, desc: \"å°çª—\", pkg: tzapp, value: \"å°çª—è·³è½¬\" });\n}\nvar zsyappname;\nif(zsyapp \u003d\u003d false){\nzsyapp\u003d\"com.android.settings\";\nzsyappname\u003d\"åº”ç”¨é€‰æ‹©å™¨\";\n}else{\nzsyappname\u003dgetAppName(zsyapp);\n}\ndefaultBrowsername\u003dgetAppName(defaultBrowser);\ndhklist.push({ label: zsyappname, desc: \"å…¨å±\", pkg: zsyapp, value: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€\" });\ndhklist.push({ label: zsyappname, desc: \"å°çª—\", pkg: zsyapp, value: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\" });\nif(zsyapp!\u003ddefaultBrowser){\ndhklist.push({ label: defaultBrowsername, desc: \"å…¨å±\", pkg: defaultBrowser, value: \"æµè§ˆå™¨æ‰“å¼€\" });\ndhklist.push({ label: defaultBrowsername, desc: \"å°çª—\", pkg: defaultBrowser, value: \"æµè§ˆå™¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\" });}\ndhklist.push({ label: \"é€‰æ‹©åº”ç”¨æ‰“å¼€\", desc: \"å…¨å±\", icon: \"ğŸ“±\", value: \"é€‰æ‹©åº”ç”¨æ‰“å¼€\" });\ndhklist.push({ label: \"å¤åˆ¶é“¾æ¥\", desc: \"å¤åˆ¶æ¸…ç†å¹²å‡€çš„é“¾æ¥å’Œæå–ç \", icon: \"ğŸ“‹\", value: \"å¤åˆ¶é“¾æ¥\" });\ndhklist.push({ label: \"å–æ¶ˆ\", desc: \"å…³é—­æŒ‡ä»¤çª—å£\", icon: \"âŒ\", value: \"å–æ¶ˆ\" });\nvar ltyxq;\nif(linknum\u003c2\u0026\u0026result!\u003dfalse\u0026\u0026tzapp!\u003dzsyapp){if(outltywz\u003d\u003d\"é¡¶éƒ¨\"){\nltyxq\u003d{\n  pkg: tzapp,\n  title: \"æ‰“å¼€\"+tzappname,\n  subtitle: \"ç‚¹å‡»æ‰“å¼€\"+tzappname,\n  buttonText: \"æµ®çª—æ‰“å¼€\",\n  resultOnClick: \"è·³è½¬\",\n  resultOnButton: \"å°çª—è·³è½¬\",\n  resultOnTimeout: \"å–æ¶ˆ\",\n  resultOnSwipe: \"å–æ¶ˆ\",\n  resultOnLongClick: \"choose\",\n  timeout: 3000,\n  gravity: Gravity.TOP | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n}}else{\nltyxq\u003d{\n  pkg: tzapp,\n  title: \"æ‰“å¼€\"+tzappname,\n  subtitle: \"ç‚¹å‡»æ‰“å¼€\"+tzappname,\n  buttonText: \"æµ®çª—æ‰“å¼€\",\n  resultOnClick: \"è·³è½¬\",\n  resultOnButton: \"å°çª—è·³è½¬\",\n  resultOnTimeout: \"å–æ¶ˆ\",\n  resultOnSwipe: \"å–æ¶ˆ\",\n  resultOnLongClick: \"choose\",\n  timeout: 3000,\n  gravity: Gravity.BOTTOM | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n\n}\n}\n\n\nif(tzapp!\u003d%FrontAppPkgName%\u0026\u0026!(zsyapp\u003d\u003d%FrontAppPkgName%\u0026\u0026zsyapp!\u003ddefaultBrowser)\u0026\u0026openact!\u003d\"å–æ¶ˆ\"){\nopenact\u003dshowFloatingPrompt(ltyxq);}else{openact\u003d\"å–æ¶ˆ\";}\n}else if(linknum\u003c2\u0026\u0026(result\u003d\u003dfalse||(result!\u003dfalse\u0026\u0026tzapp\u003d\u003dzsyapp))\u0026\u0026openact!\u003d\"å–æ¶ˆ\"){\nif(outltywz\u003d\u003d\"é¡¶éƒ¨\"){\nltyxq\u003d{\n  pkg: zsyapp,\n  title: \"æ‰“å¼€\"+zsyappname,\n  subtitle: \"ç‚¹å‡»æ‰“å¼€\"+zsyappname,\n  buttonText: \"æµ®çª—æ‰“å¼€\",\n  resultOnClick: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€\",\n  resultOnButton: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\",\n  resultOnTimeout: \"å–æ¶ˆ\",\n  resultOnSwipe: \"å–æ¶ˆ\",\n  resultOnLongClick: \"choose\",\n  timeout: 3000,\n  gravity: Gravity.TOP | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n}}else{\nltyxq\u003d{\n  pkg: zsyapp,\n  title: \"æ‰“å¼€\"+zsyappname,\n  subtitle: \"ç‚¹å‡»æ‰“å¼€\"+zsyappname,\n  buttonText: \"æµ®çª—æ‰“å¼€\",\n  resultOnClick: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€\",\n  resultOnButton: \"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\",\n  resultOnTimeout: \"å–æ¶ˆ\",\n  resultOnSwipe: \"å–æ¶ˆ\",\n  resultOnLongClick: \"choose\",\n  timeout: 3000,\n  gravity: Gravity.BOTTOM | Gravity.CENTER,\n  x: 0,\n  y: outltywzpy\n}\n}\nif(!(zsyapp\u003d\u003d%FrontAppPkgName%\u0026\u0026zsyapp!\u003ddefaultBrowser)\u0026\u0026openact!\u003d\"å–æ¶ˆ\"){\nopenact\u003dshowFloatingPrompt(ltyxq);}else{openact\u003d\"å–æ¶ˆ\";}\n}else{if(openact!\u003d\"å–æ¶ˆ\"){openact\u003d\"choose\";}}\nif(openact\u003d\u003d\"choose\"){\nopenact\u003dshowOptionsDialog(dhklist,\"æ‰“å¼€æ–¹å¼\")}\n}\nif (link.indexOf(\"æå–ç \") !\u003d\u003d -1\u0026\u0026openact.indexOf(\"è·³è½¬\") \u003d\u003d\u003d -1\u0026\u0026openact.indexOf(\"å–æ¶ˆ\") \u003d\u003d\u003d -1){\nvar clink;\nvar runIns;\nclink\u003dlink.split(\" æå–ç :\")\nvar action \u003d WriteClipboard.newBuilder()\n    .setText(clink[1])\n    .build();\nshortx.executeAction(action);\nrunIns\u003dclink[0];\n}else{\nrunIns\u003dlink;\n}\nfunction launchWithMode(launchType, input, config, freeformMode, mode, packageName) {\n    \n    var intent;\n\n    if (launchType \u003d\u003d\u003d \"intent\") {\n        intent \u003d Intent.parseUri(input, 0);\n    } else {\n        intent \u003d new Intent(Intent.ACTION_VIEW);\n        intent.setData(Uri.parse(input));\n    }\n\n    // æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½æ”¯æŒæŒ‡å®šåŒ…å\n    if (packageName \u0026\u0026 packageName.trim() !\u003d\u003d \"\") {\n        intent.setPackage(packageName);\n    }\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n\n    if (mode \u003d\u003d\u003d \"fullscreen\") {\n        context.startActivity(intent);\n        return \"å·²å…¨å±å¯åŠ¨ï¼š\" + (launchType \u003d\u003d\u003d \"intent\" ? \"Intent URI\" : input);\n    }\n\n    var useMode \u003d isAppinstall(\"oplus\") ? 100 : freeformMode;\n    var cfg \u003d config.split(\" \");\n    var wm \u003d context.getSystemService(\"window\");\n    var display \u003d wm.getDefaultDisplay();\n    var point \u003d new Point();\n    display.getRealSize(point);\n    var rotation \u003d display.getRotation();\n    var isPortrait \u003d (rotation \u003d\u003d\u003d Surface.ROTATION_0 || rotation \u003d\u003d\u003d Surface.ROTATION_180);\n\n    var width \u003d isPortrait ? parseInt(cfg[0]) : parseInt(cfg[1]);\n    var height \u003d parseInt(width / parseFloat(cfg[2]));\n    var left \u003d isPortrait ? parseInt(cfg[3]) : parseInt(cfg[4]);\n    var top \u003d isPortrait ? parseInt(cfg[5]) : parseInt(cfg[6]);\n    var right \u003d left + width;\n    var bottom \u003d top + height;\n\n    var options \u003d ActivityOptions.makeBasic();\n    options.setLaunchWindowingMode(useMode);\n    options.setLaunchBounds(new Rect(left, top, right, bottom));\n\n    if (launchType \u003d\u003d\u003d \"intent\") {\n        var am \u003d context.getSystemService(\"activity\");\n        var tasks \u003d am !\u003d null ? am.getRunningTasks(1) : null;\n        var uid \u003d (tasks !\u003d null \u0026\u0026 tasks.size() \u003e 0) ? tasks.get(0).userId : 0;\n        var userHandle \u003d UserHandle.of(uid);\n        context.startActivityAsUser(intent, options.toBundle(), userHandle);\n    } else {\n        context.startActivity(intent, options.toBundle());\n    }\n\n    return \"å·²å°çª—å¯åŠ¨ï¼š\" + (launchType \u003d\u003d\u003d \"intent\" ? \"Intent URI\" : input);\n}\n\nif(openact!\u003d\"å–æ¶ˆ\"){\n    switch(openact){\n    case\"è·³è½¬\":\n        launchWithMode(\"url\", result, \"\", 0, \"fullscreen\",tzapp);\n        break;\n    case\"å°çª—è·³è½¬\":\n        launchWithMode(\"url\",result,outxcpz, outxccs, \"window\",tzapp);    \n        break;\n    case\"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€\":\n        launchWithMode(\"intent\",runIns, \"\", outxccs, \"fullscreen\",zsyapp);\n        break;\n    case\"è‡ªé€‚åº”åº”ç”¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\":\n        launchWithMode(\"intent\",runIns,outxcpz, outxccs, \"window\",zsyapp);\n        break;\n    case\"æµè§ˆå™¨æ‰“å¼€\":\n        launchWithMode(\"intent\",runIns, \"\", outxccs, \"fullscreen\",defaultBrowser);\n        break;\n    case\"æµè§ˆå™¨æ‰“å¼€ï¼ˆå°çª—ï¼‰\":\n        launchWithMode(\"intent\",runIns,outxcpz, outxccs, \"window\",defaultBrowser);\n        break;\n    case\"é€‰æ‹©åº”ç”¨æ‰“å¼€\":\n        var command \u003d ShellCommand.newBuilder()\n    .setCommand(\"am start -d \\\"\"+runIns+\"\\\"\").build();\n    shortx.executeAction(command);\n    break;\n    case\"å¤åˆ¶é“¾æ¥\":\n    var action \u003d WriteClipboard.newBuilder()\n    .setText(runIns)\n    .build();\n    shortx.executeAction(action);\n    break;\n    }\n}\nopenact+\"\"+result+\" \"+tzapp+\" \"+zsyapp+\" \"+link+\"\\n\"+origin+defaultBrowser;\n",
    "context": "CoroutineContext_UI",
    "customContextDataKey": {
      "keys": [{
        "first": "jsRet",
        "second": "icon"
      }]
    },
    "note": "All in One",
    "id": "A-dc471ffb-6b01-4de2-a4da-c36a54dca4d8"
  }],
  "id": "SHARE-rule-1b38870e-a9a8-455f-9a1f-9e561b70b264",
  "lastUpdateTime": "1751390618993",
  "createTime": "1723386652518",
  "author": {
    "name": "nyehueh"
  },
  "title": "é“¾æ¥æµä½“äº‘0.0.9 Beta",
  "description": "å¤åˆ¶å’Œé€‰æ‹©é“¾æ¥æ—¶æ˜¾ç¤ºæµä½“äº‘",
  "isEnabled": true,
  "hook": {
    "actionsOnEnabled": [{
      "@type": "type.googleapis.com/ExecuteJS",
      "expression": "importPackage(android.view);\nimportPackage(android.widget);\nimportPackage(android.content);\nimportPackage(android.os);\nimportPackage(android.graphics);\nimportPackage(android.util);\nimportPackage(java.lang);\n\nfunction runOnUiThread(fn) {\n    new Handler(Looper.getMainLooper()).post(new Runnable({ run: fn }));\n}\n\nrunOnUiThread(function () {\n    var windowManager \u003d context.getSystemService(Context.WINDOW_SERVICE);\n\n    var layout \u003d new LinearLayout(context);\n    layout.setOrientation(LinearLayout.VERTICAL);\n    layout.setBackgroundColor(Color.TRANSPARENT);\n\n    var backgroundDrawable \u003d new android.graphics.drawable.GradientDrawable();\n    backgroundDrawable.setColor(Color.WHITE);\n    backgroundDrawable.setCornerRadius(50);\n    layout.setBackground(backgroundDrawable);\n    layout.setPadding(40, 40, 40, 40);\n\n    var layoutParams \u003d new WindowManager.LayoutParams(\n        1000,\n        2000,\n        WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n        WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL | WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n        PixelFormat.TRANSLUCENT\n    );\n    layoutParams.gravity \u003d Gravity.CENTER;\n    var titleView \u003d new TextView(context);\n    titleView.setText(\"ä½¿ç”¨è¯´æ˜\");\n    titleView.setTextSize(22);\n    titleView.setTextColor(Color.BLACK);\n    titleView.setGravity(Gravity.CENTER);\n    titleView.setPadding(0, 0, 0, 20);\n    layout.addView(titleView);\n    var scrollView \u003d new ScrollView(context);\n    var scrollParams \u003d new LinearLayout.LayoutParams(\n        LinearLayout.LayoutParams.MATCH_PARENT,\n        0,\n        1 \n    );\n    scrollView.setLayoutParams(scrollParams);\n\n    var textView \u003d new TextView(context);\n    textView.setText(\"1.ä½¿ç”¨å‰è¯·ç¡®å®šshellæ­£å¸¸\\n(å…³é—­è¿™ä¸ªå¯¹è¯æ¡†åæœªå¼¹å‡ºshellæ­£å¸¸toastå³ä¸ºä¸æ­£å¸¸ï¼Œè¯·ç¡®å®šåœ¨shell in systemUIå¼€å¯æ—¶ç»™äº†systemUIï¼ˆç³»ç»Ÿç•Œé¢ï¼‰rootæƒé™ï¼Œåœ¨æœªå¼€å¯æ—¶ç»™äº†shortx rootæƒé™)ï¼Œshellä¸æ­£å¸¸æ—¶é€‰æ‹©åº”ç”¨æ‰“å¼€æ— æ•ˆ\\n2.å°çª—æ‰“å¼€åŠŸèƒ½éœ€è¦æ²¡æœ‰ä¸­è½¬å±‚æ‰å¯æ­£å¸¸ä½¿ç”¨ï¼ˆå¦‚ï¼šç©ºæµè§ˆ,å…¶ä»–æµè§ˆå™¨æ‰“å¼€ç­‰ï¼‰ï¼Œéƒ¨åˆ†åº”ç”¨å¯èƒ½å¼ºåˆ¶æŒ£è„±å°çª—éœ€æ±‚ï¼ŒColorOSæ— æ³•ä½¿ç”¨å§‹ç»ˆå…¨å±æ‰“å¼€æ—¶éœ€åœ¨æŒ‡ä»¤å‚æ•°å‡ºå°†å°çª—å‚æ•°çš„å€¼ä»5æ”¹ä¸º100(colorosè¯†åˆ«æœºåˆ¶ä¸ºoplusåº”ç”¨ä½ç‰ˆæœ¬colorosä¸‹å¯èƒ½ä¸å­˜åœ¨)\\n3.é€‰ä¸­æå–åŠŸèƒ½å¯èƒ½éœ€è¦æ‰‹åŠ¨é‡å‘½åå¹¶é€‰æ‹©ä¸€ä¸‹ä¸Šä¸‹æ–‡èœå•è§¦å‘å™¨\\n4.æµä½“äº‘å•å‡»å…¨å±æ‰“å¼€ï¼Œç‚¹å‡»æŒ‰é’®ä½¿ç”¨å°çª—æ‰“å¼€ï¼Œé•¿æŒ‰è¿›å…¥åŠŸèƒ½èœå•ï¼Œä¸Šæ»‘å…³é—­\\nè¯¥ç‰ˆæœ¬ä¸ºæµ‹è¯•ç‰ˆï¼Œä½¿ç”¨æœŸé—´å¯èƒ½ä¼šé‡åˆ°å¡æ­»ï¼Œè½¯é‡å¯ç­‰é—®é¢˜\\nè¯¥ç‰ˆæœ¬ä¸ºæµ‹è¯•ç‰ˆï¼Œä½¿ç”¨æœŸé—´å¯èƒ½ä¼šé‡åˆ°å¡æ­»ï¼Œè½¯é‡å¯ç­‰é—®é¢˜\\nè¯¥ç‰ˆæœ¬ä¸ºæµ‹è¯•ç‰ˆï¼Œä½¿ç”¨æœŸé—´å¯èƒ½ä¼šé‡åˆ°å¡æ­»ï¼Œè½¯é‡å¯ç­‰é—®é¢˜\");\n    textView.setTextSize(18);\n    textView.setTextColor(Color.DKGRAY);\n    textView.setGravity(Gravity.LEFT);\n    scrollView.addView(textView);\n    layout.addView(scrollView);\n    var buttonLayout \u003d new LinearLayout(context);\n    buttonLayout.setOrientation(LinearLayout.HORIZONTAL);\n    buttonLayout.setGravity(Gravity.CENTER);\n    buttonLayout.setPadding(0, 30, 0, 0);\n    layout.addView(buttonLayout);\n\n    var closeButton \u003d new Button(context);\n    closeButton.setText(\"ä¸‹ä¸€æ­¥ (5)\");\n    closeButton.setTextColor(Color.WHITE);\n    closeButton.setEnabled(false); // åˆå§‹ä¸å¯ç”¨\n\n    function createRoundedDrawable(color) {\n        var drawable \u003d new android.graphics.drawable.GradientDrawable();\n        drawable.setColor(color);\n        drawable.setCornerRadius(30); // åœ†è§’\n        return drawable;\n    }\n    closeButton.setBackgroundDrawable(createRoundedDrawable(Color.parseColor(\"#BDBDBD\")));\n\n    buttonLayout.addView(closeButton);\n    var secondsRemaining \u003d 5;\n    var handler \u003d new Handler();\n    var countdownRunnable \u003d new Runnable({\n        run: function () {\n            secondsRemaining--;\n            if (secondsRemaining \u003e 0) {\n                closeButton.setText(\"ä¸‹ä¸€æ­¥ (\" + secondsRemaining + \")\");\n                handler.postDelayed(this, 1000);\n            } else {\n                closeButton.setEnabled(true);\n                closeButton.setText(\"ä¸‹ä¸€æ­¥\");\n                closeButton.setBackgroundDrawable(createRoundedDrawable(Color.parseColor(\"#08C661\"))); \n            }\n        }\n    });\n    handler.postDelayed(countdownRunnable, 1000);\n\n    closeButton.setOnClickListener(new View.OnClickListener({\n        onClick: function () {\n            if (!closeButton.isEnabled()) return;\n            var writeLocalVar \u003d Packages.tornaco.apps.shortx.core.proto.action.WriteLocalVar.newBuilder()\n                .setVarName(\"next\")\n                .setValueAsString(\"true\")\n                .build();\n            shortx.executeAction(writeLocalVar);\n            try {\n                windowManager.removeView(layout);\n            } catch (e) {}\n        }\n    }));\n\n    try {\n        windowManager.addView(layout, layoutParams);\n    } catch (e) {\n        console.log(\"æ·»åŠ è§†å›¾å¤±è´¥ï¼š\" + e);\n    }\n});",
      "context": "CoroutineContext_UI",
      "customContextDataKey": {
      },
      "note": "å€’è®¡æ—¶å¯¹è¯æ¡†ï¼ˆä½¿ç”¨è¯´æ˜ï¼‰",
      "id": "A-0feb5e8c-96b5-4f32-a35b-ed94ae93745d"
    }, {
      "@type": "type.googleapis.com/ShellCommand",
      "command": "echo 1",
      "customContextDataKey": {
      },
      "id": "A-093debde-1ce8-4e6b-87b9-b544b94b3faa"
    }, {
      "@type": "type.googleapis.com/IfThenElse",
      "If": [{
        "@type": "type.googleapis.com/EvaluateContextVar",
        "op": "EqualTo",
        "varName": "shellOut",
        "payload": {
          "value": "1"
        },
        "customContextDataKey": {
        },
        "id": "C-f6a68423-f699-45b7-a8cb-c7d51776ddfd"
      }],
      "IfActions": [{
        "@type": "type.googleapis.com/ShowToast",
        "message": "shellæ­£å¸¸",
        "customContextDataKey": {
        },
        "id": "A-d93140e1-eede-46bc-b50e-d7ac332d2e0e"
      }],
      "ElseActions": [{
        "@type": "type.googleapis.com/ShowAlertDialog",
        "positive": "ç¡®å®š",
        "onPositive": [{
          "@type": "type.googleapis.com/SetRuleEnabled",
          "ruleId": "rule-98f8b5fd-8577-4be9-b809-f4b1b84ed7fa",
          "customContextDataKey": {
          },
          "id": "A-3b70707b-6223-464a-b0a5-ff6de5023101"
        }, {
          "@type": "type.googleapis.com/BreakActionExecute",
          "scope": "BreakActionExecuteScope_Root",
          "customContextDataKey": {
          },
          "id": "A-b3fdaa1e-cc4d-442d-a6ee-ad2b2cac5db0"
        }],
        "title": "shellè¿è¡Œå¼‚å¸¸",
        "message": "è¯·ç¡®å®šåœ¨shell in systemUIå¼€å¯æ—¶ç»™äº†systemUIï¼ˆç³»ç»Ÿç•Œé¢ï¼‰rootæƒé™ï¼Œåœ¨æœªå¼€å¯æ—¶ç»™äº†shortx rootæƒé™",
        "cancelable": true,
        "style": {
        },
        "customContextDataKey": {
        },
        "id": "A-42eb85d4-c2ad-413e-83ad-f8fb3e3007ab"
      }],
      "customContextDataKey": {
      },
      "id": "A-f88a1156-1201-4e31-a4af-7d280599da4e"
    }]
  },
  "quit": {
  },
  "versionCode": "1",
  "ruleInstanceIdGenerator": {
    "@type": "type.googleapis.com/RuleInstanceIdGenerator_String",
    "insId": "{clipboardContent}{selectedText}"
  },
  "parameters": [{
    "name": "djym",
    "defaultValue": "com,cn,top,love,xyz,net,org,vip,cloud,online,icu,fun,work,tv,wiki,email,plus,co,ltd,shop,tech,wang,site,xin,store,art,cc,website,press,space,beer,luxe,video,group,ren,fit,yoga,pro,ink,info,mobi,kim,red,run,chat,cool,zone,host,biz,me",
    "comments": "é¡¶çº§åŸŸååˆ—è¡¨ï¼ˆ,éš”å¼€ï¼‰"
  }, {
    "name": "tqm",
    "defaultValue": "æå–ç ï¼š å¯†ç ï¼š æå–ç : å¯†ç : è®¿é—®ç : è®¿é—®ç ï¼š æå–ç :",
    "comments": "æå–ç åˆ—è¡¨ï¼ˆç©ºæ ¼éš”å¼€ï¼‰"
  }, {
    "name": "email",
    "defaultValue": "qq.com,126.com,163.com,139.com,gmail.com,hotmail.com,sohu.com,sina.com,sina.cn,foxmail.com,outlook.com,aliyun.com,tom.com,yeah.net,live.cn,msn.com",
    "comments": "é‚®ç®±åˆ—è¡¨ï¼ˆ,åˆ†å‰²ï¼‰"
  }, {
    "name": "httpsonly",
    "defaultValue": "123pan.com",
    "comments": "ä»…HTTPSå¯ç”¨åˆ—è¡¨"
  }, {
    "name": "blacklist",
    "defaultValue": "ğŸˆšï¸",
    "isRequired": true,
    "comments": "é“¾æ¥é»‘åå•å…³é”®è¯å‘½ä¸­åˆ™ä¸å“åº”è¯¥é“¾æ¥ï¼ˆè‹±æ–‡é€—å·åˆ†å‰²ï¼‰"
  }, {
    "name": "å°çª—é…ç½®",
    "defaultValue": "1200 1100 0.6 200 150 400 80",
    "isRequired": true,
    "comments": "ç«–å±é«˜åº¦ æ¨ªå±é«˜åº¦ å®½é«˜æ¯” ç«–å±å·¦ä¾§ç•™ç©º æ¨ªå±å·¦ä¾§ç•™ç©º ç«–å±ä¸Šä¾§ç•™ç©º æ¨ªå±ä¸Šä¾§ç•™ç©º"
  }, {
    "name": "å°çª—å‚æ•°",
    "defaultValue": "5",
    "isRequired": true,
    "comments": "MIUI/æ¾æ¹ƒ/åŸç”Ÿï¼š5\nColorOSï¼š100"
  }, {
    "name": "ä½ç½®",
    "defaultValue": "é¡¶éƒ¨",
    "comments": "æµä½“äº‘æ˜¾ç¤ºçš„ä½ç½®ï¼ˆé¡¶éƒ¨ï¼Œåº•éƒ¨ï¼‰"
  }, {
    "name": "æµä½“äº‘ä½ç½®åç§»",
    "defaultValue": "100",
    "isRequired": true,
    "comments": "ä¸Šä¸‹åç§»é‡ï¼ˆå•ä½ï¼šåƒç´ ï¼‰"
  }]
}
###------###
{"type":"rule"}